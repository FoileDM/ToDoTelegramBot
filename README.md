# ToDo Telegram Bot

## Описание

ToDo Telegram Bot — это система управления задачами, состоящая из Django-бэкенда и Telegram-бота на базе Aiogram.
Пользователи создают и отслеживают задачи в чат-боте, а сервер обрабатывает бизнес-логику, хранит данные в PostgreSQL и
отправляет напоминания через Celery. Redis используется как брокер.

## Стек

- **Django 5** — REST API и административная панель.
- **PostgreSQL 15** — основная база данных.
- **Redis 7** — брокер сообщений для Celery и хранилище сессий бота.
- **Celery** — фоновые задачи (например, уведомления о дедлайнах).
- **Aiogram 3** — Telegram-бот и диалоги с пользователем.
- **Docker Compose** — оркестрация сервисов.

## Быстрый старт

1. **Подготовьте окружение**
    - Установите Docker Engine и Docker Compose v2.
    - Склонируйте репозиторий и перейдите в корень проекта:
      ```bash
      git clone <repo-url>
      cd ToDoTelegramBot
      ```

2. **Создайте файл переменных окружения**
    - Скопируйте пример и заполните секреты (токен бота, ключи для JWT):
      ```bash
      cp .env.example .env
      ```
    - Убедитесь, что значения `BOT_TOKEN`, `BOT_JWT_PRIVATE_KEY` и `BOT_JWT_PUBLIC_KEY` корректны.

3. **Запустите сервисы**
    - Поднимите инфраструктуру и приложения в фоне:
      ```bash
      docker compose up --build -d
      ```
    - Django автоматически применит миграции и станет доступен по адресу `http://localhost:8000/`.
    - Бот стартует после успешной инициализации бэкенда и публикует health-check на `http://localhost:8080/health`.

4. **Создайте администратора (опционально)**
    - Подключитесь к контейнеру веб-приложения и создайте суперпользователя:
      ```bash
      docker compose exec web python manage.py createsuperuser
      ```

## Структура репозитория

```
backend/       # Django-проект и Celery-конфигурация
bot/           # Код Telegram-бота на Aiogram
.env.example   # Шаблон переменных окружения
```
